"use strict";(self.webpackChunkdelta_docs_1=self.webpackChunkdelta_docs_1||[]).push([[711],{6266:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"Building a Domain/executor components","title":"Executor components","description":"The Executor is responsible for processing transactions and communicating them to the delta Base Layer. It is part of the domain and comprised of:","source":"@site/docs/Building a Domain/executor components.md","sourceDirName":"Building a Domain","slug":"/Building a Domain/executor components","permalink":"/docs/docs/Building a Domain/executor components","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Executor components","sidebar_label":"Executor components","sidebar_position":4},"sidebar":"docSidebar","previous":{"title":"Domain components","permalink":"/docs/docs/Building a Domain/domain components"},"next":{"title":"delta Protocol Background","permalink":"/docs/docs/category/delta-protocol-background"}}');var s=t(4848),i=t(8453);const r={title:"Executor components",sidebar_label:"Executor components",sidebar_position:4},c="Components of an executor",a={},d=[];function l(e){const n={a:"a",code:"code",h1:"h1",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Details:o}=n;return o||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"components-of-an-executor",children:"Components of an executor"})}),"\n",(0,s.jsx)(n.p,{children:"The Executor is responsible for processing transactions and communicating them to the delta Base Layer. It is part of the domain and comprised of:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Domain RPC Server"})," ",(0,s.jsx)("br",{}),"\nEvery domain requires a custom RPC server for user transactions and operations occurring on the domain to be communicated to the Runtime and eventually delta\u2019s Base Layer.\nThe domain RPC server is not included in the executor template and must be set up separately (we recommend using a Rust framework like ",(0,s.jsx)(n.a,{href:"https://actix.rs/docs/server/",children:"Actix"}),", ",(0,s.jsx)(n.a,{href:"http://crates.io/crates/axum-connect",children:"Axum"}),", ",(0,s.jsx)(n.a,{href:"https://github.com/tomaka/rouille",children:"Rouille"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sequencer"})," ",(0,s.jsx)("br",{}),"\nDomains on delta are free to use any sequencer they prefer. User transactions and operations on the domain must be ordered in some way before being passed to the Runtime.\nThe delta Executor SDK includes a simple \u201cfirst in, first out\u201d sequencer as a default which can be used for simple implementations."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Runtime"})," ",(0,s.jsx)("br",{}),"\nThe runtime manages the execution, packaging, and communication of user transactions.\nThe Executor SDK includes the default repyh runtime, which consists of a basic execution trait (customizable), SP1 proving trait (customizable), code to transform processed user transactions into SDLs, and a RPC client to connect to the gRPC on the base layer. It is recommended that teams use the repyh runtime and optionally customize the execution and proving traits to suit their needs (more detail below)."]}),"\n"]}),"\n",(0,s.jsxs)(o,{children:[(0,s.jsx)("summary",{children:"Customization Points"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Domain RPC Server","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Domain developers will set up their own custom RPC server for the domain"}),"\n",(0,s.jsx)(n.li,{children:"the domain RPC will intake user transactions from the domain, order them via the chosen sequencer and transmit the ordered list to the runtime to handle execution and creation/submission of SDLs"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Sequencer","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Domain developers can use any sequencer model"}),"\n",(0,s.jsx)(n.li,{children:"The sequencer will be called by the domain RPC to order user transactions occurring on the domain"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Execution"})," Trait (part of the Runtime)","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The Executor SDK includes a ",(0,s.jsx)(n.code,{children:"FullDebitExecutor"})," which","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["intakes an ordered list of user transactions (called ",(0,s.jsx)(n.code,{children:"verifiables"})," in the code)"]}),"\n",(0,s.jsx)(n.li,{children:"executes these"}),"\n",(0,s.jsxs)(n.li,{children:["returns the ",(0,s.jsx)(n.code,{children:"AggregatedStateDiff"})," (diffs for the related vaults because of the transactions)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Domain developers can define their own custom ",(0,s.jsx)(n.code,{children:"Execution"})," traits to enable more complex handling logic for transactions and SDL submissions."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Proving"})," Trait (part of the Runtime)","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The Executor SDK includes a default ",(0,s.jsx)(n.code,{children:"Proving"})," trait which","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"assumes a local CPU installation of SP1"}),"\n",(0,s.jsxs)(n.li,{children:["passes the SDL ",(0,s.jsx)(n.code,{children:"HashDigest"})," along with the ",(0,s.jsx)(n.code,{children:"Verifiables"})," and ",(0,s.jsx)(n.code,{children:"Context"})]}),"\n",(0,s.jsxs)(n.li,{children:["returns the ",(0,s.jsx)(n.code,{children:"SDLProof"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Domain developers can define their own ",(0,s.jsx)(n.code,{children:"Proving"})," trait if they prefer to use a different prover setup."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"detailed domain-centric view of the delta network",src:t(7012).A+"",width:"2534",height:"988"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},7012:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/domain_executor_detailed_view-7db0d35574145858df0fe733258b0c19.png"},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var o=t(6540);const s={},i=o.createContext(s);function r(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);